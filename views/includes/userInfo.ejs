<div v-if="user" :class="infoPanel">
  <div class="dialog">
    <div class="main-body">
      <button class="btn-close" type="button" aria-label="Close" @click="closeDialog('info')" style="margin-bottom: 7px;"></button>
      <nav aria-label="breadcrumb" class="main-breadcrumb"></nav>
      <div class="row d-flex">
        <div class="col-md mb-3">
          <div class="text-center d-flex flex-column align-items-center"><img class="rounded-circle" src="/img/profile.webp" alt="Picture" width="120">
            <div class="mt-3">
              <h4>
                {{ user.real_name }}
              </h4>
              <p class="text-secondary mb-1">
                {{ user.username }}
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-16 align-items-center">

          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Full Name</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ user.real_name }}</span></div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Username</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ user.username }}</span></div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Date of Birth</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ user.date_of_birth }}</span></div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Email</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ user.email }}</span></div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Address</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ user.address }}</span></div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Phone Number</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ user.phone_number }}</span></div>
          </div>
          <hr>
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Role</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ user.type }}</span></div>
          </div>
          <hr>
          <div v-if="averageRating">
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Average Rating</h6>
            </div>
            <div class="col-sm-5 text-secondary"><span>
                {{ averageRating }}</span></div>
          </div>
          <hr>
        </div>
          <div v-if="user.status === 'pending'" class="d-flex justify-content-center">

            <form name="acceptForm" method="POST" :action="'/users/pending/accept/' + user.id">
              <input type="hidden">
              <button class="btn btn-success ms-md-2" role="button" type="submit">Accept</button>
            </form>
            <form name="denyForm" method="POST" :action="'/users/pending/deny/' + user.id">
              <input type="hidden">
              <button class="btn btn-danger ms-md-2" role="button" type="submit">Deny</button>
            </form>

          </div>
          <div v-if="user.status === 'active'">
            <div class="d-flex justify-content-center">
              <form name="editForm">
                <input type="hidden">
                <button class="btn btn-primary ms-md-2" type="button" @click="openEditDialog">Edit</button>
              </form>
              <form name="deleteForm" method="POST" :action="'/users/delete/' + user.id">
                <input type="hidden">
                <button class="btn btn-danger ms-md-2" type="submit">Delete</button>
              </form>
              <form name="deactivateForm" method="POST" :action="'/users/deactivate/' + user.id">
                <input type="hidden">
                <button class="btn btn-secondary ms-md-2" type="submit">Deactivate</button>
              </form>
            </div>
            <p class="text-center" style="color:grey">Warning! Deleting or deactivating a user will remove all their loans,reservations and reviews.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>